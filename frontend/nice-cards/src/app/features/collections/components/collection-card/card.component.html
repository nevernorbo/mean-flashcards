<div
  class="flex h-56 cursor-pointer flex-col rounded-md bg-skin-color-surface-pop/75 p-2 hover:bg-skin-color-surface-pop"
  (click)="openCollection()"
>
  <!-- RENDERED CARD -->
  @if (cardCollection() && !isSkeletonLoader()) {
    <!-- Header -->
    <div
      class="mb-2 flex justify-between border-b border-skin-color-faintest pb-2"
    >
      <!-- Title -->
      <div class="flex flex-col">
        <h4 class="text-lg font-semibold">{{ cardCollection().title }}</h4>
        <div class="text-xs text-skin-faint">
          {{ cardCollection().creationDate | date }}
        </div>
      </div>
      <!-- Creator -->
      <div class="group py-1">
        <img
          src="./favicon.ico"
          alt="user"
          class="size-8 rounded-full ring-skin-color-primary group-hover:ring-2"
        />
      </div>
    </div>

    <!-- Content overview -->
    @if (cardCollection().summary) {
      <div class="line-clamp-5 text-pretty break-words text-sm text-skin-muted">
        {{ cardCollection().summary }}
      </div>
    } @else {
      <div
        class="line-clamp-5 text-pretty break-words text-sm italic text-skin-muted"
      >
        No summary
      </div>
    }

    <!-- Footer -->
    <div
      class="mt-auto flex justify-between border-t border-skin-color-faintest pt-2"
    >
      <button
        (click)="toggleLikeCollection($event)"
        class="flex cursor-pointer gap-1 rounded-full px-2 py-1 text-sm text-skin-muted hover:bg-skin-color-faintest/75 hover:text-skin-base"
      >
        @if (isLiked()) {
          <lucide-icon class="size-4 text-red-500" [img]="Heart"></lucide-icon>
        } @else {
          <lucide-icon class="size-4" [img]="Heart"></lucide-icon>
        }
      </button>
    </div>
  }
  <!-- SKELETON LOADER -->
  @else {
    <div
      class="mb-2 flex animate-pulse justify-between border-b border-skin-color-faintest pb-2"
    >
      <!-- Title -->
      <div class="flex flex-col">
        <h4 class="mb-1 h-7 w-64 rounded-md bg-skin-color-faintest"></h4>
        <div class="h-4 w-32 rounded-md bg-skin-color-faintest"></div>
      </div>
      <!-- Creator -->
      <div class="group py-1">
        <div class="size-8 rounded-full bg-skin-color-faintest"></div>
      </div>
    </div>

    <!-- Content overview -->
    <div class="flex animate-pulse flex-wrap gap-x-2 gap-y-1">
      <span class="h-5 w-64 rounded-full bg-skin-color-faintest"></span>
      <span class="h-5 w-12 rounded-full bg-skin-color-faintest"></span>
      <span class="h-5 w-32 rounded-full bg-skin-color-faintest"></span>
      <span class="h-5 w-6 rounded-full bg-skin-color-faintest"></span>
      <span class="h-5 w-16 rounded-full bg-skin-color-faintest"></span>
      <span class="h-5 w-9 rounded-full bg-skin-color-faintest"></span>
      <span class="h-5 w-36 rounded-full bg-skin-color-faintest"></span>
      <span class="h-5 w-64 rounded-full bg-skin-color-faintest"></span>
    </div>

    <!-- Footer -->
    <div
      class="mt-auto flex animate-pulse justify-between border-t border-skin-color-faintest pt-2"
    >
      <div
        class="flex h-7 w-10 rounded-full bg-skin-color-faintest px-2 py-1 text-sm"
      ></div>
    </div>
  }
</div>
